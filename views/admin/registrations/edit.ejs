<%- include('../../includes/head.ejs') %>

  </head>
  <body data-bs-spy="scroll" data-bs-target="#navbar">
    <!-- Nav Bar -->

    <%- include('../../includes/admin_navbar.ejs') %>

    <% if (errorMessage) { %>
        <div id="flash-message" class="alert alert-danger"><%= errorMessage %></div>
      <% } %>
      <% if (successMessage) { %>
        <div id="flash-message" class="alert alert-success"><%= successMessage %></div>
      <% } %>
    <div class="container h-100 justify-content-center">
      <div class="row h-100 d-flex justify-content-center">
        <!-- Left side (image) -->
        <div class="col-lg-6 col-md-10 mt-5 ">
          <div class="card shadow p-4 w-100 " >
            <h3 class="text-center mb-4">معلومات التسجيل</h3>
     
            <form method="POST" action="/admin/registrations/<%= registration.id %>">
                <div class="mb-3">
                    <label>الإسم الأول </label>
                    <input name="firstName" value="<%= registration.firstName %>" class="form-control" required>
                  </div>
                  <div class="mb-3">
                    <label>الأسم الثاني </label>
                    <input name="lastName" value="<%= registration.lastName %>" class="form-control" required>
                  </div>
                  <div class="mb-3">
                    <label>تاريخ الميلاد </label>
                    <input type="date" name="birthDate" value="<%= registration.birthDate %>" class="form-control" required>
                  </div>
                  <div class="mb-3">
                    <label>رقم الهاتف</label>
                    <input name="phoneNumber" value="<%= registration.phoneNumber %>" class="form-control" required>
                  </div>
                  <div class="mb-3">
                    <label>المبلغ الذي تم دفعه </label>
                    <input name="paidAmount" type="number" step="0.01" value="<%= registration.paidAmount %>" class="form-control">
                  </div>
                  <div class="mb-3">
                    <label>سعر النهائي </label>
                    <input name="finalPrice" type="number" step="0.01" value="<%= registration.finalPrice %>" class="form-control">
                  </div>
                  <div class="mb-3">
                    <label> الكوبون المستخدم</label>
                    <input name="couponUsed" value="<%= registration.couponUsed %>" class="form-control">
                  </div>
                  <div class="mb-3">
                    <label>العملة</label>
                    <input name="currency" value="<%= registration.currency %>" class="form-control">
                  </div>
                  <div class="mb-3">
                    <label>الحالة</label>
                    <select name="registrationStatus" class="form-control">
                      <% ['pending', 'accepted', 'rejected', 'canceled', 'awaiting_payment', 'in_progress'].forEach(status => { %>
                        <option value="<%= status %>" <%= registration.registrationStatus === status ? 'selected' : '' %>><%= status %></option>
                      <% }) %>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label>الملاحظات </label>
                    <textarea name="notes" class="form-control"><%= registration.notes %></textarea>
                  </div>
                  <button class="btn btn-success">حفظ</button>
              </form>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"
    ></script>
    <script src="/js/flash-message.js"></script>
  </body>
</html>
